<section class="container py-5">
  <div class="row justify-content-center">
      <div class="col-lg-6">
          <div class="card">
              <div class="card-body">
                  <h2 class="card-title text-center mb-4">User Profile</h2>
                  <form *ngIf="formulario" [formGroup]="formulario">
                      <div class="mb-3">
                          <label for="username" class="form-label">Username:</label>
                          <input formControlName="username" id="username" type="text" class="form-control"
                              placeholder="Enter your username" [ngClass]="{ 'is-invalid': formulario.get('username')?.invalid && (formulario.get('username')?.dirty || formulario.get('username')?.touched), 'is-valid': formulario.get('username')?.valid }" />
                          <div *ngIf="formulario.get('username')?.invalid && (formulario.get('username')?.dirty || formulario.get('username')?.touched)"
                              class="invalid-feedback">Username must be at least 5 characters long.</div>
                      </div>
                      <div class="mb-3">
                          <label for="full_name" class="form-label">Full Name:</label>
                          <input formControlName="full_name" id="full_name" type="text" class="form-control"
                              placeholder="Enter your full name" />
                      </div>
                      <div class="mb-3">
                        <label for="avatarInput" class="form-label"  style="font-weight:bold ;">Subir Avatar:</label>
                        <input type="file" id="avatarInput"  class="form-control" accept="image/*" (change)="uploadImage($event)">
                      </div>
                      <div *ngIf="!formulario.valid" class="alert alert-danger">Form is not valid</div>
                      <div class="text-center">
                          <button type="button" class="btn btn-primary" [disabled]="formulario.invalid" 
                              (click)="submitForm()">Submit</button>
                      </div>
                  </form>
              </div>
          </div>
      </div>
  </div>
  <div class="mt-4">
      <pre>{{formulario?.value | json}}</pre>
      <div>Is website valid: {{formulario?.get('website')?.valid}}</div>
  </div>
</section>
